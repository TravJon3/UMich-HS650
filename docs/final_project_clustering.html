<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Kevin Wu" />


<title>Final Project</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.57.1/plotly-latest.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">HS650</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="final_project.html">Final Project Summary</a>
</li>
<li>
  <a href="final_project_feature_selection.html">Feature Selection</a>
</li>
<li>
  <a href="final_project_clustering.html">Clustering</a>
</li>
<li>
  <a href="final_project_rule_learning.html">Rule Learning</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Final Project</h1>
<h3 class="subtitle">Clustering</h3>
<h4 class="author">Kevin Wu</h4>
<h4 class="date">December 2021</h4>

</div>


<p><strong>final_project_clustering.Rmd</strong>.</p>
<div id="clustering-nearest-neighbor" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Clustering Nearest Neighbor</h1>
<p>I hope to use clustering to determine the combination of features that contribute to PositiveChange. However, because clustering deals primarily with interval variables (because of distances that need to be calculated), it is impossible to calculate distances based upon nominal variables with arbitrary values. For this reason, I have separated out the interval variables from my dataset, and one-hot encoded the nominal variables in the dataset, and combined them.<br />
With this dataset, I trained and predicted the k using the kNN model starting at the default k-value(Full Dataset:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>k_full_onehot</span></code></pre></div>
<pre><code>## [1] 31</code></pre>
<p>and Objective Dataset:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>k_objective_onehot</span></code></pre></div>
<pre><code>## [1] 31</code></pre>
<p>). Using the optimal k number of clusters to use, I used this new k value to determine the exact features that had determined the PositiveChange. Using the k-means model and the optimal k-value, the cluster centers became the basis of my analysis. Calculating the standard deviation of the cluster centers, I was able to categorize these features into the following separate buckets: strong inverse associations, inverse associations, associations, and strong associations.</p>
<div id="helper-functions-and-libraries" class="section level2" number="1.1">
<h2 number="1.1"><span class="header-section-number">1.1</span> Helper Functions and Libraries</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># kNN libraries</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(class)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gmodels)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(e1071)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># k-means libraries</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cluster)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(matrixStats)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co"># k-means functions</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co"># run the k++ function instead</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>kpp_init <span class="ot">&lt;-</span> <span class="cf">function</span>(dat, K) {</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">=</span> <span class="fu">as.matrix</span>(dat)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">=</span> <span class="fu">nrow</span>(x)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Randomly choose a first center</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  centers <span class="ot">=</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span>K, <span class="at">ncol=</span><span class="fu">ncol</span>(x))</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  centers[<span class="dv">1</span>,] <span class="ot">=</span> <span class="fu">as.matrix</span>(x[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span>n, <span class="dv">1</span>),])</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (k <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>K) {</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate dist^2 to closest center for each point</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    dists <span class="ot">=</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span>n, <span class="at">ncol=</span>k<span class="dv">-1</span>)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>(k<span class="dv">-1</span>)) {</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>      temp <span class="ot">=</span> <span class="fu">sweep</span>(x, <span class="dv">2</span>, centers[j,], <span class="st">&#39;-&#39;</span>)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>      dists[,j] <span class="ot">=</span> <span class="fu">rowSums</span>(temp<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    dists <span class="ot">=</span> <span class="fu">rowMins</span>(dists)</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Draw next center with probability proportional to dist^2</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    cumdists <span class="ot">=</span> <span class="fu">cumsum</span>(dists)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    prop <span class="ot">=</span> <span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min=</span><span class="dv">0</span>, <span class="at">max=</span>cumdists[n])</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    centers[k,] <span class="ot">=</span> <span class="fu">as.matrix</span>(x[<span class="fu">min</span>(<span class="fu">which</span>(cumdists <span class="sc">&gt;</span> prop)),])</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(centers)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a><span class="co"># return a list of the plot, clusters, and whether the k++ function was used</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>plot_silhouette <span class="ot">&lt;-</span> <span class="cf">function</span>(df, K, <span class="at">bKPP =</span> T) {</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(K)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(bKPP)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    clusters <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(df, <span class="fu">kpp_init</span>(df, K), <span class="at">iter.max=</span><span class="dv">10</span>, <span class="at">algorithm=</span><span class="st">&#39;Lloyd&#39;</span>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    clusters <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(df, K)</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>  dis <span class="ot">&lt;-</span> <span class="fu">dist</span>(df)</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  sil <span class="ot">&lt;-</span> <span class="fu">silhouette</span>(clusters<span class="sc">$</span>cluster, dis)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(sil)</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>  fviz <span class="ot">&lt;-</span> factoextra<span class="sc">::</span><span class="fu">fviz_silhouette</span>(sil, <span class="at">label=</span>T, <span class="at">palette =</span> <span class="st">&quot;jco&quot;</span>, <span class="at">ggtheme =</span> <span class="fu">theme_classic</span>())</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">str_split</span>(fviz<span class="sc">$</span>labels<span class="sc">$</span>title, <span class="at">pattern =</span> <span class="st">&quot; &quot;</span>)[[<span class="dv">1</span>]][<span class="dv">8</span>]</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  returned <span class="ot">&lt;-</span> <span class="fu">list</span>(fviz, clusters, result)</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(returned)</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the kmeans tuning graph to visualize the elbow</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>plot_tuning <span class="ot">&lt;-</span> <span class="cf">function</span>(df, K, <span class="at">bKPP =</span> T) {</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>  mat <span class="ot">=</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> K)</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>K) {</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(bKPP)</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>      clust_kpp <span class="ot">=</span> <span class="fu">kmeans</span>(df, <span class="fu">kpp_init</span>(df, i), <span class="at">iter.max=</span><span class="dv">10</span>, <span class="at">algorithm=</span><span class="st">&#39;Lloyd&#39;</span>)</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>      clust_kpp <span class="ot">=</span> <span class="fu">kmeans</span>(df, i)</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>    dis <span class="ot">&lt;-</span> <span class="fu">dist</span>(df)</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>    sil <span class="ot">=</span> <span class="fu">silhouette</span>(clust_kpp<span class="sc">$</span>cluster, dis)</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>    mat[i] <span class="ot">=</span> <span class="fu">mean</span>(<span class="fu">as.matrix</span>(sil)[,<span class="dv">3</span>])</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(mat) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Avg_Silhouette_Value&quot;</span>)</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">k =</span> <span class="dv">2</span><span class="sc">:</span>K, <span class="at">sil =</span> mat[<span class="dv">2</span><span class="sc">:</span>K])</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_ly</span>(df, <span class="at">x =</span> <span class="sc">~</span>k, <span class="at">y =</span> <span class="sc">~</span>sil, <span class="at">type =</span> <span class="st">&#39;scatter&#39;</span>, <span class="at">mode =</span> <span class="st">&#39;lines&#39;</span>, <span class="at">name=</span><span class="st">&#39;Silhouette&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">layout</span>(<span class="at">title=</span><span class="st">&quot;Average Silhouette Graph&quot;</span>)</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a><span class="co"># UNUSED - explicate all of the clusters in the silhouette - may need fine tuning clusters aren&#39;t very easy and plot not very useful</span></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>explicate_clusters <span class="ot">&lt;-</span> <span class="cf">function</span>(clusters) {</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(clusters<span class="sc">$</span>centers))</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>  rowNames <span class="ot">&lt;-</span> <span class="fu">rownames</span>(df)</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>  cluster_num <span class="ot">&lt;-</span> <span class="fu">length</span>(clusters<span class="sc">$</span>size)</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Cluster&quot;</span>,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>cluster_num))</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>()</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(df)) {</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> <span class="fu">add_trace</span>(<span class="at">data =</span> df, <span class="at">x =</span> <span class="fu">rownames</span>(df), <span class="at">y =</span> <span class="sc">~</span>df[ , i], <span class="at">type =</span> <span class="st">&quot;bar&quot;</span>, <span class="at">name =</span> <span class="fu">paste0</span>(<span class="st">&quot;Cluster&quot;</span>, i))</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> p <span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">title=</span><span class="st">&quot;Explicating Derived Cluster Labels&quot;</span>, <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">&#39;Cluster Centers&#39;</span>), <span class="at">barmode =</span> <span class="st">&#39;group&#39;</span>)</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>  p</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a><span class="co"># clean up the center colnames to include the translations to unobfuscate the onehot encoding. so the output is more meaningful</span></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>matrix_centers_cleaned_up <span class="ot">&lt;-</span> <span class="cf">function</span>(matrix_centers) {</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>  new_centers <span class="ot">&lt;-</span> matrix_centers</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(c <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(matrix_centers)) {</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>    name <span class="ot">&lt;-</span> <span class="fu">colnames</span>(matrix_centers)[c]</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    vect_name <span class="ot">&lt;-</span> <span class="fu">unlist</span>(<span class="fu">str_split</span>(name, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="at">n =</span> <span class="dv">2</span>))</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>    description <span class="ot">&lt;-</span> <span class="fu">fieldname_to_description</span>(vect_name[<span class="dv">1</span>])</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>    <span class="co"># if there is an obscure fieldname value, pass in the value and the obscure description to get the value description otherwise, there is no one-hot encoding of the description.</span></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">length</span>(vect_name) <span class="sc">&gt;</span> <span class="dv">1</span>)</span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>      value_description <span class="ot">&lt;-</span> <span class="fu">value_fieldname_to_description</span>(vect_name[<span class="dv">2</span>], vect_name[<span class="dv">1</span>])</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>      value_description <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Do not include values that are NA or &quot;&quot;</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(value_description) <span class="sc">&amp;&amp;</span> <span class="fu">trimws</span>(value_description) <span class="sc">!=</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(value_description <span class="sc">==</span> <span class="st">&quot;.&quot;</span>)</span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>        <span class="fu">colnames</span>(new_centers)[c] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;[&quot;</span>, description, <span class="st">&quot; - NA]&quot;</span>)</span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span></span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>        <span class="fu">colnames</span>(new_centers)[c] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;[&quot;</span>, description, <span class="st">&quot; - &quot;</span>, value_description, <span class="st">&quot;]&quot;</span>)</span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>      <span class="fu">colnames</span>(new_centers)[c] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;[&quot;</span>, description, <span class="st">&quot;]&quot;</span>)</span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_centers)</span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a><span class="co"># print a matrix of the centers sorted by their associations</span></span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>print_centers_summary <span class="ot">&lt;-</span> <span class="cf">function</span>(matrix_centers) {</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>  s <span class="ot">&lt;-</span> <span class="fu">sd</span>(matrix_centers)</span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>  num_clusters <span class="ot">&lt;-</span> <span class="fu">nrow</span>(matrix_centers)</span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>  vect_clusters <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode=</span><span class="st">&quot;character&quot;</span>, <span class="at">length =</span> num_clusters)</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>  vect_strong_inverse_association <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode=</span><span class="st">&quot;character&quot;</span>, <span class="at">length =</span> num_clusters)</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>  vect_inverse_association <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode=</span><span class="st">&quot;character&quot;</span>, <span class="at">length =</span> num_clusters)</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>  vect_association <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode=</span><span class="st">&quot;character&quot;</span>, <span class="at">length =</span> num_clusters)</span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>  vect_strong_association <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="at">mode=</span><span class="st">&quot;character&quot;</span>, <span class="at">length =</span> num_clusters)</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(matrix_centers)) {</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>num_clusters) {</span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>      vect_clusters[j] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Cluster &quot;</span>, j)</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(matrix_centers[j,i] <span class="sc">&lt;=</span> <span class="sc">-</span><span class="dv">2</span> <span class="sc">*</span> s)</span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(vect_strong_inverse_association[j] <span class="sc">==</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>          vect_strong_inverse_association[j] <span class="ot">=</span> <span class="fu">colnames</span>(matrix_centers)[i]</span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>          vect_strong_inverse_association[j] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(vect_strong_inverse_association[j], <span class="st">&quot; + &quot;</span>, <span class="fu">colnames</span>(matrix_centers)[i])</span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(matrix_centers[j,i] <span class="sc">&gt;</span> <span class="sc">-</span><span class="dv">2</span> <span class="sc">*</span> s <span class="sc">&amp;&amp;</span> matrix_centers[j,i] <span class="sc">&lt;=</span> <span class="sc">-</span>s)</span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(vect_inverse_association[j] <span class="sc">==</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>          vect_inverse_association[j] <span class="ot">=</span> <span class="fu">colnames</span>(matrix_centers)[i]</span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>          vect_inverse_association[j] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(vect_inverse_association[j], <span class="st">&quot; + &quot;</span>, <span class="fu">colnames</span>(matrix_centers)[i])</span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(matrix_centers[j,i] <span class="sc">&gt;=</span> s <span class="sc">&amp;&amp;</span> matrix_centers[j,i] <span class="sc">&lt;</span> <span class="dv">2</span> <span class="sc">*</span>s)</span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(vect_association[j] <span class="sc">==</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a>          vect_association[j] <span class="ot">=</span> <span class="fu">colnames</span>(matrix_centers)[i]</span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>          vect_association[j] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(vect_association[j], <span class="st">&quot; + &quot;</span>, <span class="fu">colnames</span>(matrix_centers)[i])</span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span> (matrix_centers[j,i] <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">*</span> s)</span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(vect_strong_association[j] <span class="sc">==</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>          vect_strong_association[j] <span class="ot">=</span> <span class="fu">colnames</span>(matrix_centers)[i]</span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a>          vect_strong_association[j] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(vect_strong_association)</span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a>  df_printout <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Cluster =</span> vect_clusters, <span class="at">StrongInverseAssociation =</span> vect_strong_inverse_association, <span class="at">InverseAssociation =</span> vect_inverse_association, <span class="at">Association =</span> vect_association, <span class="at">StrongAssociation =</span> vect_strong_association)</span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(df_printout)</span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a>print_sensitivity_specificity <span class="ot">&lt;-</span> <span class="cf">function</span>(ct, K) {</span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a>  ct_TN <span class="ot">&lt;-</span> ct<span class="sc">$</span>prop.row[<span class="dv">1</span>, <span class="dv">1</span>]</span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a>  ct_FP <span class="ot">&lt;-</span> ct<span class="sc">$</span>prop.row[<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a>  ct_FN <span class="ot">&lt;-</span> ct<span class="sc">$</span>prop.row[<span class="dv">2</span>, <span class="dv">1</span>]</span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>  ct_TP <span class="ot">&lt;-</span> ct<span class="sc">$</span>prop.row[<span class="dv">2</span>, <span class="dv">2</span>]</span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a>  ct_sensi <span class="ot">&lt;-</span> ct_TN<span class="sc">/</span>(ct_TN<span class="sc">+</span>ct_FP) </span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a>  ct_speci <span class="ot">&lt;-</span> ct_TP<span class="sc">/</span>(ct_TP<span class="sc">+</span>ct_FN)</span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;kNN model k=&quot;</span>, K, <span class="st">&quot; Sensitivity=&quot;</span>, ct_sensi))</span>
<span id="cb5-158"><a href="#cb5-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;kNN model k=&quot;</span>, K, <span class="st">&quot; Specificity=&quot;</span>, ct_speci))  </span>
<span id="cb5-159"><a href="#cb5-159" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="knn---full-dataset" class="section level2" number="1.2">
<h2 number="1.2"><span class="header-section-number">1.2</span> kNN - Full Dataset</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#prepare the dataframes</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>labels_train_full <span class="ot">&lt;-</span> df_full_train_onehot[ , <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>labels_test_full <span class="ot">&lt;-</span> df_full_test_onehot[ , <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>df_full_train_onehot_new <span class="ot">&lt;-</span> df_full_train_onehot[ , <span class="sc">!</span><span class="fu">names</span>(df_full_train_onehot) <span class="sc">%in%</span> <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>df_full_test_onehot_new <span class="ot">&lt;-</span> df_full_test_onehot[ , <span class="sc">!</span><span class="fu">names</span>(df_full_test_onehot) <span class="sc">%in%</span> <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># run the knn with the default k</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>new_k_full <span class="ot">&lt;-</span> k_full_onehot</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>pred_full <span class="ot">&lt;-</span> <span class="fu">knn</span>(<span class="at">train =</span> df_full_train_onehot_new, <span class="at">test =</span> df_full_test_onehot_new, <span class="at">cl =</span> labels_train_full, <span class="at">k =</span> new_k_full)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>ct_full <span class="ot">&lt;-</span> <span class="fu">CrossTable</span>(<span class="at">x =</span> labels_test_full, <span class="at">y =</span> pred_full, <span class="at">prop.chisq =</span> F)</span></code></pre></div>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |           N / Col Total |
## |         N / Table Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  394 
## 
##  
##                  | pred_full 
## labels_test_full |         0 |         1 | Row Total | 
## -----------------|-----------|-----------|-----------|
##                0 |       115 |        79 |       194 | 
##                  |     0.593 |     0.407 |     0.492 | 
##                  |     0.920 |     0.294 |           | 
##                  |     0.292 |     0.201 |           | 
## -----------------|-----------|-----------|-----------|
##                1 |        10 |       190 |       200 | 
##                  |     0.050 |     0.950 |     0.508 | 
##                  |     0.080 |     0.706 |           | 
##                  |     0.025 |     0.482 |           | 
## -----------------|-----------|-----------|-----------|
##     Column Total |       125 |       269 |       394 | 
##                  |     0.317 |     0.683 |           | 
## -----------------|-----------|-----------|-----------|
## 
## </code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print_sensitivity_specificity</span>(ct_full, new_k_full)</span></code></pre></div>
<pre><code>## [1] &quot;kNN model k=31 Sensitivity=0.592783505154639&quot;
## [1] &quot;kNN model k=31 Specificity=0.95&quot;</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(<span class="fu">table</span>(pred_full, labels_test_full))</span></code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##          labels_test_full
## pred_full   0   1
##         0 115  10
##         1  79 190
##                                           
##                Accuracy : 0.7741          
##                  95% CI : (0.7296, 0.8145)
##     No Information Rate : 0.5076          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.5457          
##                                           
##  Mcnemar&#39;s Test P-Value : 5.679e-13       
##                                           
##             Sensitivity : 0.5928          
##             Specificity : 0.9500          
##          Pos Pred Value : 0.9200          
##          Neg Pred Value : 0.7063          
##              Prevalence : 0.4924          
##          Detection Rate : 0.2919          
##    Detection Prevalence : 0.3173          
##       Balanced Accuracy : 0.7714          
##                                           
##        &#39;Positive&#39; Class : 0               
## </code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># optimal k</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>tuning_full <span class="ot">=</span> <span class="fu">tune.knn</span>(<span class="at">x =</span> df_full_train_onehot_new, <span class="at">y =</span> <span class="fu">as.factor</span>(labels_train_full), <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>k_full_onehot)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>tuning_full</span></code></pre></div>
<pre><code>## 
## Parameter tuning of &#39;knn.wrapper&#39;:
## 
## - sampling method: 10-fold cross validation 
## 
## - best parameters:
##  k
##  9
## 
## - best performance: 0.177453</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>new_k_full <span class="ot">&lt;-</span> tuning_full<span class="sc">$</span>best.model<span class="sc">$</span>k</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>pred_full <span class="ot">&lt;-</span> <span class="fu">knn</span>(<span class="at">train =</span> df_full_train_onehot_new, <span class="at">test =</span> df_full_test_onehot_new, <span class="at">cl =</span> labels_train_full, <span class="at">k =</span> new_k_full)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>ct_full <span class="ot">&lt;-</span> <span class="fu">CrossTable</span>(<span class="at">x =</span> labels_test_full, <span class="at">y =</span> pred_full, <span class="at">prop.chisq =</span> F)</span></code></pre></div>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |           N / Col Total |
## |         N / Table Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  394 
## 
##  
##                  | pred_full 
## labels_test_full |         0 |         1 | Row Total | 
## -----------------|-----------|-----------|-----------|
##                0 |       123 |        71 |       194 | 
##                  |     0.634 |     0.366 |     0.492 | 
##                  |     0.891 |     0.277 |           | 
##                  |     0.312 |     0.180 |           | 
## -----------------|-----------|-----------|-----------|
##                1 |        15 |       185 |       200 | 
##                  |     0.075 |     0.925 |     0.508 | 
##                  |     0.109 |     0.723 |           | 
##                  |     0.038 |     0.470 |           | 
## -----------------|-----------|-----------|-----------|
##     Column Total |       138 |       256 |       394 | 
##                  |     0.350 |     0.650 |           | 
## -----------------|-----------|-----------|-----------|
## 
## </code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print_sensitivity_specificity</span>(ct_full, new_k_full)</span></code></pre></div>
<pre><code>## [1] &quot;kNN model k=9 Sensitivity=0.634020618556701&quot;
## [1] &quot;kNN model k=9 Specificity=0.925&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(<span class="fu">table</span>(pred_full, labels_test_full))</span></code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##          labels_test_full
## pred_full   0   1
##         0 123  15
##         1  71 185
##                                           
##                Accuracy : 0.7817          
##                  95% CI : (0.7376, 0.8215)
##     No Information Rate : 0.5076          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.5615          
##                                           
##  Mcnemar&#39;s Test P-Value : 3.015e-09       
##                                           
##             Sensitivity : 0.6340          
##             Specificity : 0.9250          
##          Pos Pred Value : 0.8913          
##          Neg Pred Value : 0.7227          
##              Prevalence : 0.4924          
##          Detection Rate : 0.3122          
##    Detection Prevalence : 0.3503          
##       Balanced Accuracy : 0.7795          
##                                           
##        &#39;Positive&#39; Class : 0               
## </code></pre>
</div>
<div id="knn---objective-dataset" class="section level2" number="1.3">
<h2 number="1.3"><span class="header-section-number">1.3</span> kNN - Objective Dataset</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#prepare the dataframes</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>labels_train_objective <span class="ot">&lt;-</span> df_objective_train_onehot[ , <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>labels_test_objective <span class="ot">&lt;-</span> df_objective_test_onehot[ , <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>df_objective_train_onehot_new <span class="ot">&lt;-</span> df_objective_train_onehot[ , <span class="sc">!</span><span class="fu">names</span>(df_objective_train_onehot) <span class="sc">%in%</span> <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>df_objective_test_onehot_new <span class="ot">&lt;-</span> df_objective_test_onehot[ , <span class="sc">!</span><span class="fu">names</span>(df_objective_test_onehot) <span class="sc">%in%</span> <span class="st">&quot;PositiveChange.Positive.Change&quot;</span>]</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># run the knn with the default k</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>new_k_objective <span class="ot">&lt;-</span> k_objective_onehot</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>pred_objective <span class="ot">&lt;-</span> <span class="fu">knn</span>(<span class="at">train =</span> df_objective_train_onehot_new, <span class="at">test =</span> df_objective_test_onehot_new, <span class="at">cl =</span> labels_train_objective, <span class="at">k =</span> new_k_objective)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>ct_objective <span class="ot">&lt;-</span> <span class="fu">CrossTable</span>(<span class="at">x =</span> labels_test_objective, <span class="at">y =</span> pred_objective, <span class="at">prop.chisq =</span> F)</span></code></pre></div>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |           N / Col Total |
## |         N / Table Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  394 
## 
##  
##                       | pred_objective 
## labels_test_objective |         0 |         1 | Row Total | 
## ----------------------|-----------|-----------|-----------|
##                     0 |        94 |       100 |       194 | 
##                       |     0.485 |     0.515 |     0.492 | 
##                       |     0.940 |     0.340 |           | 
##                       |     0.239 |     0.254 |           | 
## ----------------------|-----------|-----------|-----------|
##                     1 |         6 |       194 |       200 | 
##                       |     0.030 |     0.970 |     0.508 | 
##                       |     0.060 |     0.660 |           | 
##                       |     0.015 |     0.492 |           | 
## ----------------------|-----------|-----------|-----------|
##          Column Total |       100 |       294 |       394 | 
##                       |     0.254 |     0.746 |           | 
## ----------------------|-----------|-----------|-----------|
## 
## </code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print_sensitivity_specificity</span>(ct_objective, new_k_objective)</span></code></pre></div>
<pre><code>## [1] &quot;kNN model k=31 Sensitivity=0.484536082474227&quot;
## [1] &quot;kNN model k=31 Specificity=0.97&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(<span class="fu">table</span>(pred_objective, labels_test_objective))</span></code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##               labels_test_objective
## pred_objective   0   1
##              0  94   6
##              1 100 194
##                                           
##                Accuracy : 0.731           
##                  95% CI : (0.6843, 0.7741)
##     No Information Rate : 0.5076          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4579          
##                                           
##  Mcnemar&#39;s Test P-Value : &lt; 2.2e-16       
##                                           
##             Sensitivity : 0.4845          
##             Specificity : 0.9700          
##          Pos Pred Value : 0.9400          
##          Neg Pred Value : 0.6599          
##              Prevalence : 0.4924          
##          Detection Rate : 0.2386          
##    Detection Prevalence : 0.2538          
##       Balanced Accuracy : 0.7273          
##                                           
##        &#39;Positive&#39; Class : 0               
## </code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># running the knn with the optimal k                </span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>tuning_objective <span class="ot">=</span> <span class="fu">tune.knn</span>(<span class="at">x =</span> df_objective_train_onehot_new, <span class="at">y =</span> <span class="fu">as.factor</span>(labels_train_objective), <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>new_k_objective)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>tuning_objective</span></code></pre></div>
<pre><code>## 
## Parameter tuning of &#39;knn.wrapper&#39;:
## 
## - sampling method: 10-fold cross validation 
## 
## - best parameters:
##   k
##  11
## 
## - best performance: 0.2162944</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>new_k_objective <span class="ot">&lt;-</span> tuning_objective<span class="sc">$</span>best.model<span class="sc">$</span>k</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>pred_objective <span class="ot">&lt;-</span> <span class="fu">knn</span>(<span class="at">train =</span> df_objective_train_onehot_new, <span class="at">test =</span> df_objective_test_onehot_new, <span class="at">cl =</span> labels_train_objective, <span class="at">k =</span> new_k_objective)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>ct_objective <span class="ot">&lt;-</span> <span class="fu">CrossTable</span>(<span class="at">x =</span> labels_test_objective, <span class="at">y =</span> pred_objective, <span class="at">prop.chisq =</span> F)</span></code></pre></div>
<pre><code>## 
##  
##    Cell Contents
## |-------------------------|
## |                       N |
## |           N / Row Total |
## |           N / Col Total |
## |         N / Table Total |
## |-------------------------|
## 
##  
## Total Observations in Table:  394 
## 
##  
##                       | pred_objective 
## labels_test_objective |         0 |         1 | Row Total | 
## ----------------------|-----------|-----------|-----------|
##                     0 |       106 |        88 |       194 | 
##                       |     0.546 |     0.454 |     0.492 | 
##                       |     0.891 |     0.320 |           | 
##                       |     0.269 |     0.223 |           | 
## ----------------------|-----------|-----------|-----------|
##                     1 |        13 |       187 |       200 | 
##                       |     0.065 |     0.935 |     0.508 | 
##                       |     0.109 |     0.680 |           | 
##                       |     0.033 |     0.475 |           | 
## ----------------------|-----------|-----------|-----------|
##          Column Total |       119 |       275 |       394 | 
##                       |     0.302 |     0.698 |           | 
## ----------------------|-----------|-----------|-----------|
## 
## </code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print_sensitivity_specificity</span>(ct_objective, new_k_objective)</span></code></pre></div>
<pre><code>## [1] &quot;kNN model k=11 Sensitivity=0.54639175257732&quot;
## [1] &quot;kNN model k=11 Specificity=0.935&quot;</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(<span class="fu">table</span>(pred_objective, labels_test_objective))</span></code></pre></div>
<pre><code>## Confusion Matrix and Statistics
## 
##               labels_test_objective
## pred_objective   0   1
##              0 106  13
##              1  88 187
##                                           
##                Accuracy : 0.7437          
##                  95% CI : (0.6975, 0.7861)
##     No Information Rate : 0.5076          
##     P-Value [Acc &gt; NIR] : &lt; 2.2e-16       
##                                           
##                   Kappa : 0.4842          
##                                           
##  Mcnemar&#39;s Test P-Value : 1.795e-13       
##                                           
##             Sensitivity : 0.5464          
##             Specificity : 0.9350          
##          Pos Pred Value : 0.8908          
##          Neg Pred Value : 0.6800          
##              Prevalence : 0.4924          
##          Detection Rate : 0.2690          
##    Detection Prevalence : 0.3020          
##       Balanced Accuracy : 0.7407          
##                                           
##        &#39;Positive&#39; Class : 0               
## </code></pre>
</div>
<div id="k-means---full-dataset" class="section level2" number="1.4">
<h2 number="1.4"><span class="header-section-number">1.4</span> k-Means - Full Dataset</h2>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># new_k_full &lt;- 4 - in case the new k-value is 1</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(new_k_full <span class="sc">&lt;</span> <span class="dv">2</span>) new_k_full <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the silhouette with regular kmeans call</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>returned_list_F_full <span class="ot">&lt;-</span> <span class="fu">plot_silhouette</span>(df_full_onehot, <span class="at">K=</span>new_k_full, <span class="at">bKPP=</span>F)</span></code></pre></div>
<pre><code>## [1] 9
##   cluster size ave.sil.width
## 1       1  108          0.18
## 2       2   15          0.04
## 3       3  298         -0.01
## 4       4   70         -0.08
## 5       5  289          0.11
## 6       6  497          0.10
## 7       7  156          0.21
## 8       8  305          0.51
## 9       9  228         -0.05</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>returned_list_F_full[[<span class="dv">1</span>]]</span></code></pre></div>
<p><img src="final_project_clustering_files/figure-html/kMeansFull-1.png" width="672" /></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the silhouette with kpp call</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>returned_list_T_full <span class="ot">&lt;-</span> <span class="fu">plot_silhouette</span>(df_full_onehot, <span class="at">K=</span>new_k_full, <span class="at">bKPP=</span>T)</span></code></pre></div>
<pre><code>## [1] 9
##   cluster size ave.sil.width
## 1       1  109          0.20
## 2       2  305          0.52
## 3       3  145         -0.05
## 4       4  159          0.18
## 5       5  290          0.05
## 6       6  265         -0.02
## 7       7   54         -0.09
## 8       8  285          0.04
## 9       9  354          0.07</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>returned_list_T_full[[<span class="dv">1</span>]]</span></code></pre></div>
<p><img src="final_project_clustering_files/figure-html/kMeansFull-2.png" width="672" /></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if the kpp silhouette width &gt;= kmeans width, then use the kpp algorithm</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(returned_list_T_full[[<span class="dv">3</span>]] <span class="sc">&gt;=</span> returned_list_F_full[[<span class="dv">3</span>]], bKPP_full <span class="ot">&lt;-</span> T, bKPP_full <span class="ot">&lt;-</span> F)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the tuning graph to visualize the elbow</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_tuning</span>(df_full_onehot, <span class="at">K=</span>k_full_onehot, <span class="at">bKPP=</span>bKPP_full)</span></code></pre></div>
<div id="htmlwidget-3b5e4788f139179b8a7a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3b5e4788f139179b8a7a">{"x":{"visdat":{"4adc61fc6176":["function () ","plotlyVisDat"]},"cur_data":"4adc61fc6176","attrs":{"4adc61fc6176":{"x":{},"y":{},"mode":"lines","name":"Silhouette","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Average Silhouette Graph","xaxis":{"domain":[0,1],"automargin":true,"title":"k"},"yaxis":{"domain":[0,1],"automargin":true,"title":"sil"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"y":[0.393275575055808,0.22143384175403,0.189539015031822,0.172593774059701,0.158789269735715,0.162659309449142,0.134439086135508,0.134079521331689,0.110018702640215,0.109409714645584,0.0999661546179881,0.101252677001239,0.0991045770033015,0.0963240484423333,0.101564934104779,0.0727859814892622,0.0725413742167703,0.0725174922717088,0.0719868339332321,0.0735876658976509,0.0717402375298265,0.0723632221341333,0.0740720891844688,0.0627104417813281,0.059817634787227,0.0522417936666937,0.0508375887694216,0.0507643198755276,0.0531880029286306,0.0498792894113351],"mode":"lines","name":"Silhouette","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># return and print the 1) average silhouette width, 2) silhouettes, 3) clusters</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>returned_list_full <span class="ot">&lt;-</span> <span class="fu">plot_silhouette</span>(df_full_onehot, <span class="at">K=</span>new_k_full, <span class="at">bKPP=</span>bKPP_full)</span></code></pre></div>
<pre><code>## [1] 9
##   cluster size ave.sil.width
## 1       1  108          0.18
## 2       2   15          0.04
## 3       3  298         -0.01
## 4       4   70         -0.08
## 5       5  289          0.11
## 6       6  497          0.10
## 7       7  156          0.21
## 8       8  305          0.51
## 9       9  228         -0.05</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>returned_list_full[[<span class="dv">3</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;0.13&quot;</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>returned_list_full[[<span class="dv">1</span>]]</span></code></pre></div>
<p><img src="final_project_clustering_files/figure-html/kMeansFull-4.png" width="672" /></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>clusters_full <span class="ot">&lt;-</span> returned_list_full[[<span class="dv">2</span>]]</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>new_centers_full <span class="ot">&lt;-</span> <span class="fu">matrix_centers_cleaned_up</span>(clusters_full<span class="sc">$</span>centers)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co"># don&#39;t print the raw center data - illegible</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># new_centers_full</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="do">###################################</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co"># StrongInverseAssociation &lt;= -2s</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># InverseAssociation &gt; -2s &amp;&amp; &lt;= -s</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Association &gt;= s &amp;&amp; &lt; 2s</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co"># StrongAssociation &gt;= 2s</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print_centers_summary</span>(new_centers_full)</span></code></pre></div>
<table>
<colgroup>
<col width="0%" />
<col width="36%" />
<col width="2%" />
<col width="60%" />
<col width="0%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Cluster</th>
<th align="left">StrongInverseAssociation</th>
<th align="left">InverseAssociation</th>
<th align="left">Association</th>
<th align="left">StrongAssociation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Cluster 1</td>
<td align="left">[Current grade 02] + [# Days ate: dairy 02] + [# Days ate: fruit 02] + [# Days ate: veges 02] + [# Days ate: grains 02] + [# Days ate: sweets 02] + [# Days ate: meat 02] + [# Days ate: other protein 02] + [# Days pe class at sch 02] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [Better place 02] + [People are good 02] + [Society works 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Global self concept 02] + [Social initiative 02] + [Child age at assessment - months 02]</td>
<td align="left">[Hours sleep per night 02] + [Condom use 02] + [Grade in sch]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Self-identified race 2011 tas - White] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Hit you 02 - Not in the past month] + [Taken your things 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Extremely close] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Close to siblings 02 - Extremely close] + [Uncle 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [A1_1 how satisfied w/ life as a whole - Very satisfied] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 2nd mention - Inap.: no second mention] + [H4 wtr ever had asthma - 0] + [H8 wtr ever had high blood pressure - 0] + [H12 wtr ever had emotional/psych probs - 0] + [H12d wtr take nerve meds - NA] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H15 wtr&gt;2 wks depressed in past 12 mos - 0] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H23b how often do light activities - Several times a week or more] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 0] + [H40c wtr ever taken marijuana - 0] + [H50 wtr ever had sexual intercourse - 1] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Highest education level - High school graduate plus some college] + [L7 race mention #1 - White] + [L7 race mention #2 - NA] + [black2011 - 0] + [other2011 - 0] + [PositiveChange - Positive.Change] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B6a how good at responsibility] + [B6b how good at problem solving] + [C1a how good at supervising comp] + [C1b how good at leading comp w/otrs] + [C1c how good at logic comp w/otrs] + [C1d how good at helping comp w/otrs] + [C1e how intelligent compared w/otrs] + [C1f how independent compared w/otrs] + [C1g how confident compared w/others] + [C1h how decisive compared w/others] + [C1j how well listen compared w/others] + [C2a how often nervous meetng others] + [C2c how often feel self-conscious] + [C2g how often feel nervous performing] + [D41 how close to father] + [D46 how close to mother] + [H14a how often felt nervous in past mo] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3f pct of close friends in vo/tech pgm] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [L3 freq of attend relig svcs last 12 mos] + [M1 frequency of happiness in last month] + [M2 freq of interest in life in last mo] + [M3 freq of feeling satisfied in last mo] + [M5 freq of feeling belonging to communty] + [M8 freq feelng way soc works makes sense] + [M9 freq feel managng daily responsibilty] + [M10 freq feeling trusting rels w/others] + [M12 freq feeling confident of own ideas] + [M13 freq of feeling liked personality] + [M14 freq of feeling life had direction] + [Mental health: social anxiety] + [Mental health: risky behaviors] + [Completed education of mother]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="even">
<td align="left">Cluster 2</td>
<td align="left"></td>
<td align="left">[Year individual born 01]</td>
<td align="left">[Sex of individual - Male] + [Self-identified race 2011 tas - Black or african american] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Na; refused] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Close to friends 02 - Quite close] + [Close to siblings 02 - Extremely close] + [Close to teachers 02 - Fairly close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Race/ethnicity 02 - African american] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [Sports in 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Orderly 02 - Sometimes] + [Do best 02 - Always] + [Ever tried cigarettes 02 - No] + [Ever drank? 02 - No] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - No] + [Partner 02 - Yes] + [Partner 02 - No] + [Sexual intercourse 02 - No] + [Relation to head 09 - Head in 2009; 2007 head who was mover-out nonresponse by the time of the 2009 interview] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [H61d wtr covered by insurance now 11 - 1] + [Result of cds/ta iw attempt 11 - Interview with eligible sample individual] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A9 wtr ever used internet - 1] + [A11 wtr voted in 2010 - 0] + [A11b wtr in social action groups - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B2 summer primary residence - Same as last winter] + [E1 employment status 1st mention - 0] + [E1 employment status 2nd mention - Inap.: no second mention] + [E1 employment status 3rd mention - Inap.: fewer than three mentions] + [E71a ever in armed forces - 0] + [G19 wtr non-academic training - 0] + [H4 wtr ever had asthma - 0] + [H8 wtr ever had high blood pressure - 0] + [H12 wtr ever had emotional/psych probs - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H15 wtr&gt;2 wks depressed in past 12 mos - 0] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Inap: r was head or wife/“wife” in the 2011 psid interview (ta110011=1 or 2)] + [H23a how often do vigorous activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23b how often do light activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23c how often musclebuilding activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 0] + [H40a wtr ever taken diet pills - 0] + [H40b wtr ever taken amphetamines - 0] + [H40c wtr ever taken marijuana - 0] + [H40e wtr ever taken barbiturates - 0] + [H40f wtr ever taken tranquilizers - 0] + [H40g wtr ever taken steroids - 0] + [H50 wtr ever had sexual intercourse - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [K4 wtr ever sexually assaulted/raped - No] + [K5a # times sexually assaulted - Inap.: never been sexually assaulted or raped (ta111021=5); na, dk, rf whether ever been sexually assaulted or raped (ta111021=8 or 9)] + [K6 wtr ever physically attacked - No] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 1] + [other2011 - NA] + [PositiveChange - Not.Positive.Change] + [Current grade 02] + [# Days ate: meat 02] + [Sexual intercourse: month 02] + [Sexual intercourse: year 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [People are good 02] + [Society works 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Social initiative 02] + [H14f how often felt worthless in past mo]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 3</td>
<td align="left">[Year individual born 01]</td>
<td align="left"></td>
<td align="left">[Sex of individual - Female] + [Self-identified race 2011 tas - Black or african american] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Na; refused] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Close to siblings 02 - Extremely close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Race/ethnicity 02 - African american] + [Religious import 02 - Very important] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [Sports in 02 - No] + [School groups 02 - Yes] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Do best 02 - Always] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - Yes] + [Ever tried chew tobacco 02 - No] + [Ever drank? 02 - Yes] + [Ever tried marijuana 02 - Yes] + [Ever tried marijuana 02 - No] + [Partner 02 - Yes] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [Relation to head 11 - Head in 2011; 2009 head who was mover-out nonresponse by the time of the 2011 interview] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was head in the 2011 psid interview] + [A4 wtr member of sports team - 0] + [A11 wtr voted in 2010 - 0] + [A13 wtr did otr volunteer work - 0] + [B1 fall/winter primary residence - Apartment or room that r rented] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Married or cohabitating] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [G19 wtr non-academic training - 0] + [G20 wtr currently in vo/tech training - NA] + [H4 wtr ever had asthma - 0] + [H8 wtr ever had high blood pressure - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H14j how much interferes with activities - Not at all] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Inap: r was head or wife/“wife” in the 2011 psid interview (ta110011=1 or 2)] + [H23a how often do vigorous activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23b how often do light activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23c how often musclebuilding activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23a time unit for hvy phys activity–hw - Inap.: was not head or wife/“wife” in 2011 psid interview (ta110011=3); never does vigorous activities for at least 10 minutes that cause heavy sweating or large increase in breathing or heart rate (ta110893=0)] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 1] + [H40a wtr ever taken diet pills - 0] + [H40c wtr ever taken marijuana - 1] + [H40f wtr ever taken tranquilizers - 0] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Marital/cohabitation status - 1] + [Region - South] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 1] + [other2011 - NA] + [PositiveChange - Positive.Change] + [# Days ate: sweets 02] + [# Days ate: meat 02] + [Sexual intercourse: month 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [Better place 02] + [People are good 02] + [Society works 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Global self concept 02] + [Social initiative 02] + [Grade in sch] + [A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [B6a how good at responsibility] + [B6b how good at problem solving] + [B6c how good at money management] + [C1a how good at supervising comp] + [C1b how good at leading comp w/otrs] + [C1c how good at logic comp w/otrs] + [C1d how good at helping comp w/otrs] + [C1e how intelligent compared w/otrs] + [C1f how independent compared w/otrs] + [C1g how confident compared w/others] + [C1h how decisive compared w/others] + [C1j how well listen compared w/others] + [C1k how good at teaching compared w/otrs] + [D11 how satisfied w/relationship] + [D46 how close to mother] + [H28a freq of snack instead of reglr meal] + [H30 # cigarettes per day] + [H37 how often have drinks-hd] + [K1b how often receive poorer service] + [K1e how often others treat as dishonest] + [K3a pct of close friends w/job not coll] + [K3e pct of close friends married, etc.] + [K3h pct of close friends w/kids] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K13 how often got into physical fight] + [K15 how often drove when drunk or high] + [M1 frequency of happiness in last month] + [M2 freq of interest in life in last mo] + [M3 freq of feeling satisfied in last mo] + [M4 freq of feeling contrib to society] + [M6 freq of feeling society gettng better] + [M9 freq feel managng daily responsibilty] + [M10 freq feeling trusting rels w/others] + [M11 freq of feeling challenged to grow] + [M12 freq feeling confident of own ideas] + [M13 freq of feeling liked personality] + [M14 freq of feeling life had direction] + [Responsibilities: financial] + [Mental health: risky behaviors] + [Body weight percentile status] + [Earnings from work last year] + [L8 importance of ethnic group identity]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="even">
<td align="left">Cluster 4</td>
<td align="left">[Current grade 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [People are good 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Social initiative 02]</td>
<td align="left">[Better place 02] + [Society works 02] + [Grade in sch] + [Child age at assessment - months 02]</td>
<td align="left">[Sex of individual - Male] + [Self-identified race 2011 tas - White] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Hit you 02 - Not in the past month] + [Taken your things 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Na; refused] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Sports in 02 - No] + [School groups 02 - Yes] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - Yes] + [Freq missed school due to health prob 02 - Never] + [Do best 02 - Always] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - NA] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was an ofum in the 2011 psid interview] + [A1_1 how satisfied w/ life as a whole - Somewhat satisfied] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B1 fall/winter primary residence - Parents&lt;U+0092&gt; home (house or apartment)] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [G19 wtr non-academic training - 0] + [G20 wtr currently in vo/tech training - NA] + [H4 wtr ever had asthma - 0] + [H12 wtr ever had emotional/psych probs - 0] + [H12d wtr take nerve meds - NA] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H15 wtr&gt;2 wks depressed in past 12 mos - 0] + [H15 wtr&gt;2 wks depressed in past 12 mos - 1] + [H16 wtr&gt;2 wks no interest in life - NA] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H23a time unit for hvy phys activity–hw - Inap.: was not head or wife/“wife” in 2011 psid interview (ta110011=3); never does vigorous activities for at least 10 minutes that cause heavy sweating or large increase in breathing or heart rate (ta110893=0)] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 1] + [H40a wtr ever taken diet pills - 0] + [H40b wtr ever taken amphetamines - 0] + [H40c wtr ever taken marijuana - 1] + [H40e wtr ever taken barbiturates - 0] + [H40f wtr ever taken tranquilizers - 0] + [H50 wtr ever had sexual intercourse - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [K4 wtr ever sexually assaulted/raped - No] + [K5a # times sexually assaulted - Inap.: never been sexually assaulted or raped (ta111021=5); na, dk, rf whether ever been sexually assaulted or raped (ta111021=8 or 9)] + [K6 wtr ever physically attacked - Yes] + [K6 wtr ever physically attacked - No] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 0] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Region - South] + [L7 race mention #1 - White] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 0] + [black2011 - 1] + [other2011 - NA] + [other2011 - 0] + [PositiveChange - Not.Positive.Change] + [# Days ate: other protein 02] + [# Days exercise outside sch 02] + [Hours sleep per night 02] + [Peer bullying 02] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5d how much responsiblty managing money] + [B6a how good at responsibility] + [B6b how good at problem solving] + [C1c how good at logic comp w/otrs] + [C1d how good at helping comp w/otrs] + [C1e how intelligent compared w/otrs] + [C1f how independent compared w/otrs] + [C1j how well listen compared w/others] + [C2a how often nervous meetng others] + [C2b how often feel shy] + [C2c how often feel self-conscious] + [C2g how often feel nervous performing] + [H12a age first diagnosed w/psych probs] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H30 # cigarettes per day] + [H51e # of sexual intercourse partners] + [K1b how often receive poorer service] + [K1e how often others treat as dishonest] + [K3c pct of close friends unemp &amp; looking] + [K3f pct of close friends in vo/tech pgm] + [K3h pct of close friends w/kids] + [K3m pct of close friends who get drunk] + [K12 how often damaged public property] + [K15 how often drove when drunk or high] + [Mental health: social anxiety] + [Body weight percentile status] + [Completed education of mother] + [Year individual born 01]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 5</td>
<td align="left">[Current grade 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [Better place 02] + [People are good 02] + [Society works 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Social initiative 02]</td>
<td align="left">[Condom use 02] + [Grade in sch] + [Child age at assessment - months 02]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Close to siblings 02 - Extremely close] + [Aunt 02 - No] + [Uncle 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Sports in 02 - Yes] + [Sports in 02 - No] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - Yes] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Do best 02 - Always] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - NA] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was an ofum in the 2011 psid interview] + [A1_1 how satisfied w/ life as a whole - Very satisfied] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A11 wtr voted in 2010 - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B1 fall/winter primary residence - Parents&lt;U+0092&gt; home (house or apartment)] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [H1 health level - Very good] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H14j how much interferes with activities - Not at all] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H36 wtr drink alcohol-head - 0] + [H40c wtr ever taken marijuana - 0] + [H50 wtr ever had sexual intercourse - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Region - South] + [Highest education level - High school graduate plus some college] + [L7 race mention #1 - White] + [black2011 - 0] + [other2011 - 0] + [PositiveChange - Positive.Change] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Global self concept 02] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10e wtr used internet for soc netwrking] + [B5d how much responsiblty managing money] + [B6a how good at responsibility] + [B6b how good at problem solving] + [B6c how good at money management] + [C1a how good at supervising comp] + [C1b how good at leading comp w/otrs] + [C1c how good at logic comp w/otrs] + [C1d how good at helping comp w/otrs] + [C1e how intelligent compared w/otrs] + [C1f how independent compared w/otrs] + [C1g how confident compared w/others] + [C1h how decisive compared w/others] + [C1j how well listen compared w/others] + [C1k how good at teaching compared w/otrs] + [C2g how often feel nervous performing] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3f pct of close friends in vo/tech pgm] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [L3 freq of attend relig svcs last 12 mos] + [M1 frequency of happiness in last month] + [M2 freq of interest in life in last mo] + [M3 freq of feeling satisfied in last mo] + [M4 freq of feeling contrib to society] + [M5 freq of feeling belonging to communty] + [M6 freq of feeling society gettng better] + [M7 freq of feeling people basically good] + [M8 freq feelng way soc works makes sense] + [M9 freq feel managng daily responsibilty] + [M10 freq feeling trusting rels w/others] + [M11 freq of feeling challenged to grow] + [M12 freq feeling confident of own ideas] + [M13 freq of feeling liked personality] + [M14 freq of feeling life had direction] + [Completed education of mother] + [Year individual born 01] + [L8 importance of ethnic group identity]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="even">
<td align="left">Cluster 6</td>
<td align="left"></td>
<td align="left">[Condom use 02]</td>
<td align="left">[Sex of individual - Female] + [Self-identified race 2011 tas - White] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Picked on you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [School groups 02 - Yes] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Most of the time] + [Do best 02 - Always] + [Finish things 02 - Most of the time] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - No] + [Ever drank? 02 - No] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Partner 02 - No] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - High school graduate plus some college] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was an ofum in the 2011 psid interview] + [A1_1 how satisfied w/ life as a whole - Very satisfied] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A11 wtr voted in 2010 - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B2 summer primary residence - Same as last winter] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [G19 wtr non-academic training - 0] + [G20 wtr currently in vo/tech training - NA] + [H1 health level - Very good] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H14j how much interferes with activities - Not at all] + [H17 wtr had annual dr checkup last year - 1] + [H23a time unit for hvy phys activity–hw - Inap.: was not head or wife/“wife” in 2011 psid interview (ta110011=3); never does vigorous activities for at least 10 minutes that cause heavy sweating or large increase in breathing or heart rate (ta110893=0)] + [H36 wtr drink alcohol-head - 1] + [H40a wtr ever taken diet pills - 0] + [H40b wtr ever taken amphetamines - 0] + [H40c wtr ever taken marijuana - 0] + [H50 wtr ever had sexual intercourse - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Highest education level - Skipped, asked in ta-09] + [L7 race mention #1 - White] + [black2011 - 0] + [other2011 - 0] + [PositiveChange - Positive.Change] + [Current grade 02] + [# Days ate: dairy 02] + [# Days ate: grains 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [Better place 02] + [People are good 02] + [Society works 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Global self concept 02] + [Social initiative 02] + [A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [B6a how good at responsibility] + [B6b how good at problem solving] + [B6c how good at money management] + [B6d how good at credit card payoff] + [C1a how good at supervising comp] + [C1b how good at leading comp w/otrs] + [C1c how good at logic comp w/otrs] + [C1d how good at helping comp w/otrs] + [C1e how intelligent compared w/otrs] + [C1f how independent compared w/otrs] + [C1g how confident compared w/others] + [C1h how decisive compared w/others] + [C1j how well listen compared w/others] + [C1k how good at teaching compared w/otrs] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H37 how often have drinks-hd] + [K3a pct of close friends w/job not coll] + [K3b2 pct of close friends in coll/grad] + [K3e pct of close friends married, etc.] + [K12 how often damaged public property] + [M1 frequency of happiness in last month] + [M2 freq of interest in life in last mo] + [M3 freq of feeling satisfied in last mo] + [M4 freq of feeling contrib to society] + [M5 freq of feeling belonging to communty] + [M6 freq of feeling society gettng better] + [M7 freq of feeling people basically good] + [M8 freq feelng way soc works makes sense] + [M9 freq feel managng daily responsibilty] + [M10 freq feeling trusting rels w/others] + [M11 freq of feeling challenged to grow] + [M12 freq feeling confident of own ideas] + [M13 freq of feeling liked personality] + [M14 freq of feeling life had direction] + [Responsibilities: financial] + [Completed education of mother] + [Completed education of father]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 7</td>
<td align="left">[A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [B6a how good at responsibility] + [B6b how good at problem solving] + [B6c how good at money management] + [B6d how good at credit card payoff] + [C1a how good at supervising comp] + [C1b how good at leading comp w/otrs] + [C1c how good at logic comp w/otrs] + [C1d how good at helping comp w/otrs] + [C1e how intelligent compared w/otrs] + [C1f how independent compared w/otrs] + [C1g how confident compared w/others] + [C1h how decisive compared w/others] + [C1j how well listen compared w/others] + [C1k how good at teaching compared w/otrs] + [C2a how often nervous meetng others] + [C2b how often feel shy] + [C2c how often feel self-conscious] + [C2g how often feel nervous performing] + [D28a number of children] + [D41 how close to father] + [D46 how close to mother] + [H14a how often felt nervous in past mo] + [H14b how often felt hopeless in past mo] + [H14c how often felt restless in past mo] + [H14d how often felt everything effort] + [H14e how often felt too sad in past mo] + [H14f how often felt worthless in past mo] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [H37 how often have drinks-hd] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3a pct of close friends w/job not coll] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3f pct of close friends in vo/tech pgm] + [K3h pct of close friends w/kids] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [K15 how often drove when drunk or high] + [L3 freq of attend relig svcs last 12 mos] + [M1 frequency of happiness in last month] + [M2 freq of interest in life in last mo] + [M3 freq of feeling satisfied in last mo] + [M4 freq of feeling contrib to society] + [M5 freq of feeling belonging to communty] + [M6 freq of feeling society gettng better] + [M7 freq of feeling people basically good] + [M8 freq feelng way soc works makes sense] + [M9 freq feel managng daily responsibilty] + [M10 freq feeling trusting rels w/others] + [M11 freq of feeling challenged to grow] + [M12 freq feeling confident of own ideas] + [M13 freq of feeling liked personality] + [M14 freq of feeling life had direction] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: non-spec psych distress] + [Mental health: risky behaviors] + [Body weight percentile status] + [Completed education of mother] + [Completed education of father] + [L8 importance of ethnic group identity]</td>
<td align="left">[D11 how satisfied w/relationship] + [H30 # cigarettes per day] + [K5b age when (first) assaulted] + [Enrollment status] + [Earnings from work last year] + [Year individual born 01]</td>
<td align="left">[Sex of individual - Male] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Most of the time] + [Finish things 02 - Most of the time] + [Ever tried cigarettes 02 - No] + [Ever tried chew tobacco 02 - No] + [Ever drank? 02 - Yes] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - No] + [Partner 02 - Yes] + [Partner 02 - No] + [Sexual intercourse 02 - No] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [H61d wtr covered by insurance now 11 - NA] + [PositiveChange - Not.Positive.Change] + [Current grade 02] + [Condom use 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [Better place 02] + [People are good 02] + [Society works 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Social initiative 02] + [Grade in sch] + [Child age at assessment - months 02]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="even">
<td align="left">Cluster 8</td>
<td align="left">[Current grade 02] + [# Days ate: dairy 02] + [# Days ate: fruit 02] + [# Days ate: veges 02] + [# Days ate: grains 02] + [# Days ate: sweets 02] + [# Days ate: meat 02] + [# Days ate: other protein 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Contribution 02] + [Community 02] + [Better place 02] + [People are good 02] + [Society works 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Global self concept 02] + [Social initiative 02] + [Child age at assessment - months 02] + [A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [B6a how good at responsibility] + [B6b how good at problem solving] + [B6c how good at money management] + [B6d how good at credit card payoff] + [C1a how good at supervising comp] + [C1b how good at leading comp w/otrs] + [C1c how good at logic comp w/otrs] + [C1d how good at helping comp w/otrs] + [C1e how intelligent compared w/otrs] + [C1f how independent compared w/otrs] + [C1g how confident compared w/others] + [C1h how decisive compared w/others] + [C1j how well listen compared w/others] + [C1k how good at teaching compared w/otrs] + [C2a how often nervous meetng others] + [C2b how often feel shy] + [C2c how often feel self-conscious] + [C2g how often feel nervous performing] + [D28a number of children] + [D41 how close to father] + [D46 how close to mother] + [H14a how often felt nervous in past mo] + [H14b how often felt hopeless in past mo] + [H14c how often felt restless in past mo] + [H14d how often felt everything effort] + [H14e how often felt too sad in past mo] + [H14f how often felt worthless in past mo] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [H37 how often have drinks-hd] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3a pct of close friends w/job not coll] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3f pct of close friends in vo/tech pgm] + [K3h pct of close friends w/kids] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [K15 how often drove when drunk or high] + [L3 freq of attend relig svcs last 12 mos] + [M1 frequency of happiness in last month] + [M2 freq of interest in life in last mo] + [M3 freq of feeling satisfied in last mo] + [M4 freq of feeling contrib to society] + [M5 freq of feeling belonging to communty] + [M6 freq of feeling society gettng better] + [M7 freq of feeling people basically good] + [M8 freq feelng way soc works makes sense] + [M9 freq feel managng daily responsibilty] + [M10 freq feeling trusting rels w/others] + [M11 freq of feeling challenged to grow] + [M12 freq feeling confident of own ideas] + [M13 freq of feeling liked personality] + [M14 freq of feeling life had direction] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: non-spec psych distress] + [Mental health: risky behaviors] + [Body weight percentile status] + [Completed education of mother] + [Completed education of father] + [L8 importance of ethnic group identity]</td>
<td align="left">[# Days pe class at sch 02] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Hours sleep per night 02] + [Condom use 02] + [Grade in sch] + [D11 how satisfied w/relationship] + [H30 # cigarettes per day] + [K5b age when (first) assaulted] + [Enrollment status] + [Earnings from work last year]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Taken your things 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Close to siblings 02 - Extremely close] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Sports in 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [School groups 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Community groups 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Volunteer? 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Summer program 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Self-rated health 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Freq missed soc act due to hlth prob 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Freq missed school due to health prob 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Stay with task 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Solve difficult tasks 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Orderly 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Do best 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Finish things 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Do things as well as others 02 - Inap if not eligible for acasi section k (age=8-9 yrs old)] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [Result of cds/ta iw attempt 11 - Inap.: this individual was from latino sample (er30001=7001-9308); from immigrant 2017 sample (er30001=4001-4462); not interviewed as part of 1997 cds (er33420=00, 02-98); main family nonresponse by 2011 (er34101=0 and er34102=0); mover-out nonresponse in 2011 (er34102=71-89)] + [Peer bullying 02]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 9</td>
<td align="left"></td>
<td align="left">[Year individual born 01]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Self-identified race 2011 tas - White] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [Sports in 02 - No] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - No] + [Ever drank? 02 - Yes] + [Ever drank? 02 - No] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - No] + [Partner 02 - No] + [Sexual intercourse 02 - No] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was an ofum in the 2011 psid interview] + [A1_1 how satisfied w/ life as a whole - Somewhat satisfied] + [A1 wtr involved in arts - 0] + [A11 wtr voted in 2010 - 0] + [A13 wtr did otr volunteer work - 0] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [G19 wtr non-academic training - 0] + [G20 wtr currently in vo/tech training - NA] + [H4 wtr ever had asthma - 0] + [H8 wtr ever had high blood pressure - 0] + [H12 wtr ever had emotional/psych probs - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H15 wtr&gt;2 wks depressed in past 12 mos - 0] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Inap: r was head or wife/“wife” in the 2011 psid interview (ta110011=1 or 2)] + [H23a how often do vigorous activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23b how often do light activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23c how often musclebuilding activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23a time unit for hvy phys activity–hw - Inap.: was not head or wife/“wife” in 2011 psid interview (ta110011=3); never does vigorous activities for at least 10 minutes that cause heavy sweating or large increase in breathing or heart rate (ta110893=0)] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 1] + [H40a wtr ever taken diet pills - 0] + [H40b wtr ever taken amphetamines - 0] + [H40c wtr ever taken marijuana - 1] + [H40e wtr ever taken barbiturates - 0] + [H40f wtr ever taken tranquilizers - 0] + [H50 wtr ever had sexual intercourse - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [K6 wtr ever physically attacked - No] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [L7 race mention #1 - White] + [black2011 - 0] + [other2011 - 0] + [PositiveChange - Not.Positive.Change] + [Current grade 02] + [Stayed out 02] + [Lied 02] + [Parent meeting at school 02] + [Happy 02] + [Interest in life 02] + [Satisfied 02] + [Responsibilities 02] + [Warm relationships 02] + [Challenged you 02] + [Expressing ideas 02] + [Child age at assessment - months 02] + [A8 how often watch non-news tv] + [B5a how much resonsiblty earng own livng] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [C1d how good at helping comp w/otrs] + [C2g how often feel nervous performing] + [H14a how often felt nervous in past mo] + [H14d how often felt everything effort] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [H30 # cigarettes per day] + [H37 how often have drinks-hd] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3a pct of close friends w/job not coll] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3h pct of close friends w/kids] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [K15 how often drove when drunk or high] + [Responsibilities: financial] + [Mental health: risky behaviors] + [Body weight percentile status]</td>
<td align="left">[Close to stepfather 02 - Inap if q23h3d=5,8,9]</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># explicate_clusters(clusters_full)</span></span></code></pre></div>
</div>
<div id="k-means---objective-dataset" class="section level2" number="1.5">
<h2 number="1.5"><span class="header-section-number">1.5</span> k-Means - Objective Dataset</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># new_k_objective &lt;- 3 - in case the new k-value is 1</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(new_k_objective <span class="sc">&lt;</span> <span class="dv">2</span>) new_k_objective <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the silhouette with regular kmeans call</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>returned_list_F_objective <span class="ot">&lt;-</span> <span class="fu">plot_silhouette</span>(df_objective_onehot, <span class="at">K=</span>new_k_objective, <span class="at">bKPP=</span>F)</span></code></pre></div>
<pre><code>## [1] 11
##    cluster size ave.sil.width
## 1        1  109          0.22
## 2        2    3          0.12
## 3        3  314          0.00
## 4        4   86          0.00
## 5        5  347          0.07
## 6        6  321          0.06
## 7        7  156          0.04
## 8        8  265          0.43
## 9        9  311          0.03
## 10      10   39          0.20
## 11      11   15          0.08</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>returned_list_F_objective[[<span class="dv">1</span>]]</span></code></pre></div>
<p><img src="final_project_clustering_files/figure-html/kMeansObjective-1.png" width="672" /></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the silhouette with the kpp call</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>returned_list_T_objective <span class="ot">&lt;-</span> <span class="fu">plot_silhouette</span>(df_objective_onehot, <span class="at">K=</span>new_k_objective, <span class="at">bKPP=</span>T)</span></code></pre></div>
<pre><code>## [1] 11
##    cluster size ave.sil.width
## 1        1   77          0.10
## 2        2   13          0.10
## 3        3  268          0.52
## 4        4  304          0.09
## 5        5   55         -0.10
## 6        6   36          0.05
## 7        7  584          0.06
## 8        8   85          0.01
## 9        9   15          0.08
## 10      10  193          0.13
## 11      11  336         -0.03</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>returned_list_T_objective[[<span class="dv">1</span>]]</span></code></pre></div>
<p><img src="final_project_clustering_files/figure-html/kMeansObjective-2.png" width="672" /></p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if the kpp silhouette width &gt;= kmeans width, then use the kpp algorithm</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(returned_list_T_objective[[<span class="dv">3</span>]] <span class="sc">&gt;=</span> returned_list_F_objective[[<span class="dv">3</span>]], bKPP_objective <span class="ot">&lt;-</span> T, bKPP_objective <span class="ot">&lt;-</span> F)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the tuning graph to visualize the elbow</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_tuning</span>(df_objective_onehot, <span class="at">K=</span>k_objective_onehot, <span class="at">bKPP=</span>bKPP_objective)</span></code></pre></div>
<div id="htmlwidget-f65201d7747869328db1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f65201d7747869328db1">{"x":{"visdat":{"4adc2d366858":["function () ","plotlyVisDat"]},"cur_data":"4adc2d366858","attrs":{"4adc2d366858":{"x":{},"y":{},"mode":"lines","name":"Silhouette","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Average Silhouette Graph","xaxis":{"domain":[0,1],"automargin":true,"title":"k"},"yaxis":{"domain":[0,1],"automargin":true,"title":"sil"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],"y":[0.337723307616517,0.174208652937179,0.151045514709813,0.148405881634945,0.137761983232156,0.125455171268976,0.133188315320646,0.137403689812675,0.112767314121204,0.115158098454518,0.107233089062896,0.107805517728303,0.106111205471673,0.107345286515506,0.106392985593206,0.110331294614397,0.106209642034207,0.107038059038602,0.105415295982083,0.108627447528805,0.107765667231016,0.107952204310731,0.103096906896223,0.0588065575238769,0.0597449897540233,0.0607614334703592,0.0605659779043219,0.0604506575256949,0.0600574609273863,0.0600999182357077],"mode":"lines","name":"Silhouette","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># return and print the 1) average silhouette width, 2) silhouettes, 3) clusters</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>returned_list_objective <span class="ot">&lt;-</span> <span class="fu">plot_silhouette</span>(df_objective_onehot, <span class="at">K=</span>new_k_objective, <span class="at">bKPP=</span>bKPP_objective)</span></code></pre></div>
<pre><code>## [1] 11
##    cluster size ave.sil.width
## 1        1   77          0.10
## 2        2   13          0.10
## 3        3  268          0.52
## 4        4  304          0.09
## 5        5   55         -0.10
## 6        6   36          0.05
## 7        7  584          0.06
## 8        8   85          0.01
## 9        9   15          0.08
## 10      10  193          0.13
## 11      11  336         -0.03</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>returned_list_objective[[<span class="dv">3</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;0.12&quot;</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>returned_list_objective[[<span class="dv">1</span>]]</span></code></pre></div>
<p><img src="final_project_clustering_files/figure-html/kMeansObjective-4.png" width="672" /></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>clusters_objective <span class="ot">&lt;-</span> returned_list_objective[[<span class="dv">2</span>]]</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>new_centers_objective <span class="ot">&lt;-</span> <span class="fu">matrix_centers_cleaned_up</span>(clusters_objective<span class="sc">$</span>centers)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="co"># don&#39;t print the raw center data - illegible</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co"># new_centers_objective</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="do">############################</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="co"># StrongInverseAssociation &lt;= -2s</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co"># InverseAssociation &gt; -2s &amp;&amp; &lt;= -s</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Association &gt;= s &amp;&amp; &lt; 2s</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="co"># StrongAssociation &gt;= 2s</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print_centers_summary</span>(new_centers_objective)</span></code></pre></div>
<table>
<colgroup>
<col width="0%" />
<col width="25%" />
<col width="2%" />
<col width="71%" />
<col width="0%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Cluster</th>
<th align="left">StrongInverseAssociation</th>
<th align="left">InverseAssociation</th>
<th align="left">Association</th>
<th align="left">StrongAssociation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Cluster 1</td>
<td align="left">[Current grade 02] + [# Days ate: dairy 02] + [# Days ate: fruit 02] + [# Days ate: veges 02] + [# Days ate: grains 02] + [# Days ate: sweets 02] + [# Days ate: meat 02] + [# Days ate: other protein 02] + [# Days pe class at sch 02] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Global self concept 02] + [Social initiative 02] + [Child age at assessment - months 02]</td>
<td align="left">[Hours sleep per night 02] + [Sexual intercourse: year 02] + [Condom use 02] + [Grade in sch]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Self-identified race 2011 tas - White] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Extremely close] + [Close to friends 02 - Quite close] + [Close to siblings 02 - Extremely close] + [Close to oth adults 02 - Fairly close] + [Aunt 02 - Yes] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - Yes] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Friends parent 02 - No] + [Other 02 - No] + [A1_1 how satisfied w/ life as a whole - Very satisfied] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A4 wtr member of sports team - 1] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [A13 wtr did otr volunteer work - 1] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 2nd mention - Inap.: no second mention] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H14j how much interferes with activities - Not at all] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H23a how often do vigorous activities - Several times a week or more] + [H23b how often do light activities - Several times a week or more] + [H36 wtr drink alcohol-head - 0] + [H40c wtr ever taken marijuana - 0] + [H50 wtr ever had sexual intercourse - 0] + [H50 wtr ever had sexual intercourse - 1] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Region - South] + [Highest education level - High school graduate plus some college] + [L7 race mention #1 - White] + [black2011 - 0] + [other2011 - 0] + [PositiveChange - Positive.Change] + [A7 how often read for pleasure] + [A10a wtr used internet for email] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3f pct of close friends in vo/tech pgm] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [L3 freq of attend relig svcs last 12 mos] + [Mental health: social anxiety] + [Mental health: risky behaviors] + [Completed education of mother]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="even">
<td align="left">Cluster 2</td>
<td align="left">[Current grade 02]</td>
<td align="left">[Sexual intercourse: year 02] + [Condom use 02] + [Social initiative 02] + [Grade in sch] + [Child age at assessment - months 02]</td>
<td align="left">[Sex of individual - Female] + [Self-identified race 2011 tas - Black or african american] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Hit you 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to friends 02 - Fairly close] + [Close to siblings 02 - Extremely close] + [Close to oth adults 02 - Quite close] + [Aunt 02 - Yes] + [Uncle 02 - No] + [Grandparent 02 - Yes] + [Oth relative 02 - No] + [Friends parent 02 - No] + [Other 02 - No] + [Race/ethnicity 02 - Inap if not eligible for section j (age=8-11 yrs old)] + [Sports in 02 - No] + [School groups 02 - Yes] + [School groups 02 - No] + [Community groups 02 - Yes] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - Yes] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Sometimes] + [Orderly 02 - Sometimes] + [Do best 02 - Always] + [Finish things 02 - Sometimes] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried chew tobacco 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever drank? 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried inhalants 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Partner 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Converse with adults 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Talk to teachers 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ask questions 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Class discussions 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Joke with teachers 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Sexual intercourse 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - NA] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [A1_1 how satisfied w/ life as a whole - Very satisfied] + [B1 fall/winter primary residence - Parents&lt;U+0092&gt; home (house or apartment)] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 2nd mention - Inap.: no second mention] + [H4 wtr ever had asthma - 0] + [H12 wtr ever had emotional/psych probs - 0] + [H12d wtr take nerve meds - NA] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H23b how often do light activities - Several times a week or more] + [H36 wtr drink alcohol-head - 0] + [H40c wtr ever taken marijuana - 0] + [H50 wtr ever had sexual intercourse - 1] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Region - South] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 1] + [other2011 - NA] + [PositiveChange - Positive.Change] + [# Days ate: veges 02] + [# Days ate: grains 02] + [# Days ate: sweets 02] + [# Min exercising at sch 02] + [Stayed out 02] + [No permission 02] + [A8 how often watch non-news tv] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [K1b how often receive poorer service] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3f pct of close friends in vo/tech pgm] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [L3 freq of attend relig svcs last 12 mos] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: non-spec psych distress] + [Body weight percentile status] + [Enrollment status] + [Completed education of mother] + [Year individual born 01] + [L8 importance of ethnic group identity]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 3</td>
<td align="left">[Current grade 02] + [# Days ate: dairy 02] + [# Days ate: fruit 02] + [# Days ate: veges 02] + [# Days ate: grains 02] + [# Days ate: sweets 02] + [# Days ate: meat 02] + [# Days ate: other protein 02] + [# Days pe class at sch 02] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Global self concept 02] + [Social initiative 02] + [Grade in sch] + [Child age at assessment - months 02] + [A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [D28a number of children] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [H37 how often have drinks-hd] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3a pct of close friends w/job not coll] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3f pct of close friends in vo/tech pgm] + [K3h pct of close friends w/kids] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [K15 how often drove when drunk or high] + [L3 freq of attend relig svcs last 12 mos] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: non-spec psych distress] + [Mental health: risky behaviors] + [Body weight percentile status] + [Completed education of mother] + [Completed education of father] + [L8 importance of ethnic group identity]</td>
<td align="left">[Hours sleep per night 02] + [Sexual intercourse: year 02] + [Condom use 02] + [D11 how satisfied w/relationship] + [H30 # cigarettes per day] + [K5b age when (first) assaulted] + [Enrollment status] + [Earnings from work last year]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to siblings 02 - Extremely close] + [Uncle 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [Peer bullying 02]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="even">
<td align="left">Cluster 4</td>
<td align="left">[Current grade 02] + [Social initiative 02]</td>
<td align="left">[Sexual intercourse: year 02] + [Condom use 02] + [Grade in sch] + [Child age at assessment - months 02]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Self-identified race 2011 tas - White] + [Self-identified race 2011 tas - Black or african american] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Picked on you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Extremely close] + [Close to friends 02 - Quite close] + [Close to siblings 02 - Extremely close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Sports in 02 - Yes] + [Sports in 02 - No] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - Yes] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Most of the time] + [Do best 02 - Always] + [Finish things 02 - Most of the time] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - NA] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [A1_1 how satisfied w/ life as a whole - Very satisfied] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B1 fall/winter primary residence - Parents&lt;U+0092&gt; home (house or apartment)] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [H1 health level - Very good] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H14j how much interferes with activities - Not at all] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H23b how often do light activities - Several times a week or more] + [H36 wtr drink alcohol-head - 0] + [H36 wtr drink alcohol-head - 1] + [H40c wtr ever taken marijuana - 0] + [H50 wtr ever had sexual intercourse - 1] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 0] + [L4 wtr spiritual person - 1] + [Region - South] + [Highest education level - High school graduate plus some college] + [L7 race mention #1 - White] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 0] + [black2011 - 1] + [other2011 - NA] + [other2011 - 0] + [PositiveChange - Positive.Change] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Global self concept 02] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10e wtr used internet for soc netwrking] + [B5d how much responsiblty managing money] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3f pct of close friends in vo/tech pgm] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [L3 freq of attend relig svcs last 12 mos] + [Mental health: social anxiety] + [Mental health: risky behaviors] + [Completed education of mother] + [Year individual born 01] + [L8 importance of ethnic group identity]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 5</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Self-identified race 2011 tas - White] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Na; refused] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Race/ethnicity 02 - Inap if not eligible for section j (age=8-11 yrs old)] + [Religious import 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=95,98,99)] + [Religious comfort 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=95,98,99)] + [Religious attend 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=95,98,99)] + [Sports in 02 - Yes] + [School groups 02 - Yes] + [School groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - Yes] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Freq missed school due to health prob 02 - Just a few times] + [Do best 02 - Always] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried chew tobacco 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried chew tobacco 02 - No] + [Ever drank? 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried inhalants 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried inhalants 02 - No] + [Partner 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Converse with adults 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Talk to teachers 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ask questions 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Class discussions 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Joke with teachers 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Sexual intercourse 02 - Inap if not eligible for acasi section l (age=8-11 yrs old)] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - NA] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was an ofum in the 2011 psid interview] + [A1_1 how satisfied w/ life as a whole - Somewhat satisfied] + [A1 wtr involved in arts - 0] + [A13 wtr did otr volunteer work - 0] + [B1 fall/winter primary residence - Parents&lt;U+0092&gt; home (house or apartment)] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [G19 wtr non-academic training - 0] + [G20 wtr currently in vo/tech training - NA] + [H4 wtr ever had asthma - 0] + [H12 wtr ever had emotional/psych probs - 0] + [H12 wtr ever had emotional/psych probs - 1] + [H12d wtr take nerve meds - NA] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H15 wtr&gt;2 wks depressed in past 12 mos - 0] + [H15 wtr&gt;2 wks depressed in past 12 mos - 1] + [H16 wtr&gt;2 wks no interest in life - NA] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H23a time unit for hvy phys activity–hw - Inap.: was not head or wife/“wife” in 2011 psid interview (ta110011=3); never does vigorous activities for at least 10 minutes that cause heavy sweating or large increase in breathing or heart rate (ta110893=0)] + [H29 wtr smoke cigarettes - 0] + [H29 wtr smoke cigarettes - 1] + [H36 wtr drink alcohol-head - 1] + [H40a wtr ever taken diet pills - 0] + [H40b wtr ever taken amphetamines - 0] + [H40b wtr ever taken amphetamines - 1] + [H40c wtr ever taken marijuana - 1] + [H40e wtr ever taken barbiturates - 0] + [H40f wtr ever taken tranquilizers - 0] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [K4 wtr ever sexually assaulted/raped - No] + [K5a # times sexually assaulted - Inap.: never been sexually assaulted or raped (ta111021=5); na, dk, rf whether ever been sexually assaulted or raped (ta111021=8 or 9)] + [K6 wtr ever physically attacked - Yes] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 0] + [L4 wtr spiritual person - 1] + [Region - South] + [L7 race mention #1 - White] + [black2011 - 0] + [other2011 - 0] + [PositiveChange - Not.Positive.Change] + [PositiveChange - Positive.Change] + [# Days ate: dairy 02] + [# Days ate: grains 02] + [# Days pe class at sch 02] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Peer bullying 02] + [A8 how often watch non-news tv] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [H51e # of sexual intercourse partners] + [K3a pct of close friends w/job not coll] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3f pct of close friends in vo/tech pgm] + [K3h pct of close friends w/kids] + [Responsibilities: financial] + [Mental health: social anxiety] + [Body weight percentile status] + [Completed education of mother]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="even">
<td align="left">Cluster 6</td>
<td align="left">[Current grade 02] + [# Days ate: dairy 02] + [# Days ate: fruit 02] + [# Days ate: veges 02] + [# Days ate: grains 02] + [# Days ate: sweets 02] + [# Days ate: meat 02] + [# Days ate: other protein 02] + [# Days pe class at sch 02] + [# Min exercising at sch 02] + [# Days exercise outside sch 02] + [Global self concept 02] + [Social initiative 02] + [Child age at assessment - months 02]</td>
<td align="left">[Hours sleep per night 02] + [Sexual intercourse: year 02] + [Condom use 02] + [Grade in sch] + [Earnings from work last year]</td>
<td align="left">[Sex of individual - Male] + [L6 hispanicity - No] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Hit you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Extremely close] + [Close to friends 02 - Fairly close] + [Close to siblings 02 - Extremely close] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [A1_1 how satisfied w/ life as a whole - Somewhat satisfied] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 0] + [E1 employment status 2nd mention - Inap.: no second mention] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H15 wtr&gt;2 wks depressed in past 12 mos - 0] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Yes] + [H36 wtr drink alcohol-head - 0] + [H40c wtr ever taken marijuana - 0] + [H50 wtr ever had sexual intercourse - 1] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 0] + [L4 wtr spiritual person - 1] + [Region - South] + [Highest education level - High school graduate plus some college] + [L7 race mention #1 - Black, african-american, or negro] + [L7 race mention #2 - NA] + [black2011 - 1] + [other2011 - NA] + [PositiveChange - Not.Positive.Change] + [PositiveChange - Positive.Change] + [Peer bullying 02] + [A8 how often watch non-news tv] + [A10b wtr used internet for school] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B5d how much responsiblty managing money] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3f pct of close friends in vo/tech pgm] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [L3 freq of attend relig svcs last 12 mos] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: non-spec psych distress] + [Mental health: risky behaviors] + [Body weight percentile status] + [Completed education of mother] + [Completed education of father] + [L8 importance of ethnic group identity]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 7</td>
<td align="left"></td>
<td align="left">[Condom use 02] + [Year individual born 01]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Self-identified race 2011 tas - White] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Picked on you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to teachers 02 - Fairly close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Race/ethnicity 02 - White] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [School groups 02 - Yes] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - Yes] + [Volunteer? 02 - No] + [Summer program 02 - Yes] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Most of the time] + [Do best 02 - Always] + [Finish things 02 - Most of the time] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - No] + [Ever drank? 02 - No] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Partner 02 - No] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - High school graduate plus some college] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was an ofum in the 2011 psid interview] + [A1_1 how satisfied w/ life as a whole - Very satisfied] + [A4 wtr member of sports team - 0] + [A11 wtr voted in 2010 - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B1 fall/winter primary residence - Apartment or room that r rented] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [H1 health level - Very good] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H14j how much interferes with activities - Not at all] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Inap: r was head or wife/“wife” in the 2011 psid interview (ta110011=1 or 2)] + [H23a how often do vigorous activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23b how often do light activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23c how often musclebuilding activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23a time unit for hvy phys activity–hw - Inap.: was not head or wife/“wife” in 2011 psid interview (ta110011=3); never does vigorous activities for at least 10 minutes that cause heavy sweating or large increase in breathing or heart rate (ta110893=0)] + [H36 wtr drink alcohol-head - 1] + [H40a wtr ever taken diet pills - 0] + [H40c wtr ever taken marijuana - 0] + [H40c wtr ever taken marijuana - 1] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Highest education level - Skipped, asked in ta-09] + [L7 race mention #1 - White] + [black2011 - 0] + [other2011 - 0] + [PositiveChange - Positive.Change] + [Current grade 02] + [# Days ate: dairy 02] + [# Days ate: grains 02] + [# Days ate: meat 02] + [Global self concept 02] + [Social initiative 02] + [Child age at assessment - months 02] + [A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H37 how often have drinks-hd] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1k how often treated with less respect] + [K3a pct of close friends w/job not coll] + [K3b2 pct of close friends in coll/grad] + [K3e pct of close friends married, etc.] + [K3m pct of close friends who get drunk] + [K12 how often damaged public property] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: risky behaviors] + [Body weight percentile status] + [Completed education of mother] + [Completed education of father]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="even">
<td align="left">Cluster 8</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">[Sex of individual - Male] + [Self-identified race 2011 tas - Black or african american] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Na; refused] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Close to siblings 02 - Extremely close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Race/ethnicity 02 - African american] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [Sports in 02 - No] + [School groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed soc act due to hlth prob 02 - Just a few times] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Sometimes] + [Do best 02 - Always] + [Ever tried cigarettes 02 - No] + [Ever drank? 02 - No] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - No] + [Partner 02 - Yes] + [Partner 02 - No] + [Talk to teachers 02 - Never] + [Sexual intercourse 02 - No] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - High school graduate, no college] + [Relation to head 11 - Son or daughter of head (includes adopted children but not stepchildren)] + [H61d wtr covered by insurance now 11 - 1] + [A11 wtr voted in 2010 - 0] + [A13 wtr did otr volunteer work - 0] + [B1 fall/winter primary residence - Parents&lt;U+0092&gt; home (house or apartment)] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Not in romantic relationship] + [E1 employment status 1st mention - 1] + [G19 wtr non-academic training - 0] + [G20 wtr currently in vo/tech training - NA] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - No] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 0] + [H36 wtr drink alcohol-head - 1] + [H40c wtr ever taken marijuana - 0] + [H40c wtr ever taken marijuana - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 0] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Region - South] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 1] + [other2011 - NA] + [PositiveChange - Positive.Change] + [Current grade 02] + [# Days ate: sweets 02] + [A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10c wtr used internet to shop] + [A10d wtr used internet for games] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [D28a number of children] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [H30 # cigarettes per day] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3f pct of close friends in vo/tech pgm] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: risky behaviors] + [Body weight percentile status] + [Completed education of mother] + [L8 importance of ethnic group identity]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 9</td>
<td align="left"></td>
<td align="left">[H37 how often have drinks-hd] + [Year individual born 01]</td>
<td align="left">[Sex of individual - Male] + [Self-identified race 2011 tas - Black or african american] + [L6 hispanicity - No] + [Picked on you 02 - Not in the past month] + [Hit you 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Na; refused] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to friends 02 - Quite close] + [Close to siblings 02 - Extremely close] + [Close to teachers 02 - Fairly close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Race/ethnicity 02 - African american] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [Sports in 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Orderly 02 - Sometimes] + [Do best 02 - Always] + [Ever tried cigarettes 02 - No] + [Ever drank? 02 - No] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - No] + [Partner 02 - Yes] + [Partner 02 - No] + [Sexual intercourse 02 - No] + [Relation to head 09 - Head in 2009; 2007 head who was mover-out nonresponse by the time of the 2009 interview] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [H61d wtr covered by insurance now 11 - 1] + [Result of cds/ta iw attempt 11 - Interview with eligible sample individual] + [A1 wtr involved in arts - 0] + [A4 wtr member of sports team - 0] + [A9 wtr ever used internet - 1] + [A11 wtr voted in 2010 - 0] + [A11b wtr in social action groups - 0] + [A12 wtr involved with school clubs - 0] + [A13 wtr did otr volunteer work - 0] + [B2 summer primary residence - Same as last winter] + [E1 employment status 1st mention - 0] + [E1 employment status 2nd mention - Inap.: no second mention] + [E1 employment status 3rd mention - Inap.: fewer than three mentions] + [E71a ever in armed forces - 0] + [G19 wtr non-academic training - 0] + [H4 wtr ever had asthma - 0] + [H8 wtr ever had high blood pressure - 0] + [H12 wtr ever had emotional/psych probs - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H15 wtr&gt;2 wks depressed in past 12 mos - 0] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Inap: r was head or wife/“wife” in the 2011 psid interview (ta110011=1 or 2)] + [H23a how often do vigorous activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23b how often do light activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23c how often musclebuilding activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 0] + [H40a wtr ever taken diet pills - 0] + [H40b wtr ever taken amphetamines - 0] + [H40c wtr ever taken marijuana - 0] + [H40e wtr ever taken barbiturates - 0] + [H40f wtr ever taken tranquilizers - 0] + [H40g wtr ever taken steroids - 0] + [H50 wtr ever had sexual intercourse - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [K4 wtr ever sexually assaulted/raped - No] + [K5a # times sexually assaulted - Inap.: never been sexually assaulted or raped (ta111021=5); na, dk, rf whether ever been sexually assaulted or raped (ta111021=8 or 9)] + [K6 wtr ever physically attacked - No] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 1] + [other2011 - NA] + [PositiveChange - Not.Positive.Change] + [Current grade 02] + [# Days ate: meat 02] + [Sexual intercourse: month 02] + [Sexual intercourse: year 02] + [Global self concept 02] + [Social initiative 02] + [H28b frequency of binge eating]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="even">
<td align="left">Cluster 10</td>
<td align="left">[A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [A10b wtr used internet for school] + [A10c wtr used internet to shop] + [A10d wtr used internet for games] + [A10e wtr used internet for soc netwrking] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [D28a number of children] + [D41 how close to father] + [D46 how close to mother] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H28b frequency of binge eating] + [H37 how often have drinks-hd] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3a pct of close friends w/job not coll] + [K3b2 pct of close friends in coll/grad] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3f pct of close friends in vo/tech pgm] + [K3h pct of close friends w/kids] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K11 how often did something dangerous] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [K15 how often drove when drunk or high] + [L3 freq of attend relig svcs last 12 mos] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: social anxiety] + [Mental health: non-spec psych distress] + [Mental health: risky behaviors] + [Body weight percentile status] + [Completed education of mother] + [Completed education of father] + [L8 importance of ethnic group identity]</td>
<td align="left">[D11 how satisfied w/relationship] + [H30 # cigarettes per day] + [K5b age when (first) assaulted] + [Enrollment status] + [Earnings from work last year] + [Year individual born 01]</td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Left out of things 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to friends 02 - Quite close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Sports in 02 - Yes] + [Sports in 02 - No] + [School groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Most of the time] + [Do best 02 - Always] + [Finish things 02 - Most of the time] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - No] + [Ever tried chew tobacco 02 - No] + [Ever drank? 02 - Yes] + [# Friends who drink 02 - None; inap if not eligible for acasi section l (age=8-11 yrs old)] + [Ever tried marijuana 02 - No] + [Ever tried inhalants 02 - No] + [Partner 02 - Yes] + [Sexual intercourse 02 - No] + [Relation to head 09 - Son or daughter of head (includes adopted children but not stepchildren)] + [Highest education level - NA] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [H61d wtr covered by insurance now 11 - NA] + [Current grade 02] + [Global self concept 02] + [Child age at assessment - months 02]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
<tr class="odd">
<td align="left">Cluster 11</td>
<td align="left">[Year individual born 01]</td>
<td align="left"></td>
<td align="left">[Sex of individual - Female] + [Sex of individual - Male] + [Self-identified race 2011 tas - Black or african american] + [Whether sample or nonsample - This individual is born-in sample (er30002=030-169)] + [Relation to head 01 - Son or daughter of head (includes adopted children but not stepchildren)] + [Picked on you 02 - Not in the past month] + [Close to mother 02 - Extremely close] + [Close to father 02 - Na; refused] + [Close to stepfather 02 - Inap if q23h3d=5,8,9] + [Close to stepmother 02 - Inap if q23h3c=5,8,9] + [Close to siblings 02 - Extremely close] + [Close to oth adults 02 - Fairly close] + [Aunt 02 - No] + [Uncle 02 - No] + [Grandparent 02 - No] + [Oth relative 02 - No] + [Neighbor 02 - No] + [Coworker 02 - No] + [Friends parent 02 - No] + [Activity leader 02 - No] + [Mentor 02 - No] + [Other 02 - No] + [Race/ethnicity 02 - African american] + [Religious import 02 - Very important] + [Spiritual? 02 - Inap if (not eligible for section j (age=8-11 yrs old)) or (q23j2=01-20,97)] + [Sports in 02 - Yes] + [Sports in 02 - No] + [School groups 02 - Yes] + [School groups 02 - No] + [Community groups 02 - No] + [Volunteer? 02 - No] + [Summer program 02 - No] + [Freq missed soc act due to hlth prob 02 - Never] + [Freq missed school due to health prob 02 - Never] + [Stay with task 02 - Most of the time] + [Do best 02 - Always] + [Finish things 02 - Most of the time] + [Do things as well as others 02 - Most of the time] + [Ever tried cigarettes 02 - Yes] + [Ever drank? 02 - Yes] + [Ever tried marijuana 02 - Yes] + [Ever tried marijuana 02 - No] + [Partner 02 - Yes] + [Relation to head 09 - Head in 2009; 2007 head who was mover-out nonresponse by the time of the 2009 interview] + [H60 wtr fu member w/hlth ins last 2 yrs - Yes, one or more persons covered] + [Relation to head 11 - Head in 2011; 2009 head who was mover-out nonresponse by the time of the 2011 interview] + [H61d wtr covered by insurance now 11 - 1] + [Head-wife status - Ta respondent was head in the 2011 psid interview] + [A11 wtr voted in 2010 - 0] + [B1 fall/winter primary residence - Apartment or room that r rented] + [B2 summer primary residence - Same as last winter] + [D8 wtr romantic relationship now - Married or cohabitating] + [E1 employment status 1st mention - 1] + [E1 employment status 2nd mention - Inap.: no second mention] + [G19 wtr non-academic training - 0] + [G20 wtr currently in vo/tech training - NA] + [H4 wtr ever had asthma - 0] + [H14g wtr feelings more freq than usual - About the same as usual] + [H14h how much more freq than usual - NA] + [H14j how much interferes with activities - Not at all] + [H16 wtr&gt;2 wks no interest in life - 0] + [H17 wtr had annual dr checkup last year - 1] + [H20b wtr covered by health insurance - Inap: r was head or wife/“wife” in the 2011 psid interview (ta110011=1 or 2)] + [H23a how often do vigorous activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23b how often do light activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23c how often musclebuilding activities - Inap.: respondent was head or wife/“wife” in 2011 psid interview (ta110011=1 or 2)] + [H23a time unit for hvy phys activity–hw - Inap.: was not head or wife/“wife” in 2011 psid interview (ta110011=3); never does vigorous activities for at least 10 minutes that cause heavy sweating or large increase in breathing or heart rate (ta110893=0)] + [H29 wtr smoke cigarettes - 0] + [H36 wtr drink alcohol-head - 1] + [H40a wtr ever taken diet pills - 0] + [H40c wtr ever taken marijuana - 1] + [H53f diagnosed with std or hiv - Inap.: never had sexual intercourse (ta110969=5); na, dk, rf whether ever had sexual intercourse (ta110969=8 or 9); has never gone to see a doctor or nurse for std or hiv (ta110994=5); na, dk, rf whether ever gone to see a doctor or nurse for std or hiv (ta110994=8 or 9)] + [L1a religious preference - Protestant] + [L4 wtr spiritual person - 1] + [Marital/cohabitation status - 0] + [Marital/cohabitation status - 1] + [Region - South] + [L7 race mention #1 - Black, african-american, or negro] + [black2011 - 1] + [other2011 - NA] + [PositiveChange - Positive.Change] + [# Days ate: grains 02] + [# Days ate: sweets 02] + [# Days ate: meat 02] + [Stayed out 02] + [Sexual intercourse: month 02] + [Global self concept 02] + [Social initiative 02] + [Body mass index 02] + [Grade in sch] + [A6 how often watched or read news] + [A7 how often read for pleasure] + [A8 how often watch non-news tv] + [A10a wtr used internet for email] + [B5a how much resonsiblty earng own livng] + [B5b how much responsiblty payng own rent] + [B5c how much responsblty for own bills] + [B5d how much responsiblty managing money] + [D11 how satisfied w/relationship] + [H27 # of hours of sleep in 24-hr period] + [H28a freq of snack instead of reglr meal] + [H30 # cigarettes per day] + [H37 how often have drinks-hd] + [K1a how often treated with less courtesy] + [K1b how often receive poorer service] + [K1c how often others treat as stupid] + [K1d how often others act afraid] + [K1e how often others treat as dishonest] + [K1f how often others act superior] + [K1k how often treated with less respect] + [K3a pct of close friends w/job not coll] + [K3c pct of close friends unemp &amp; looking] + [K3e pct of close friends married, etc.] + [K3f pct of close friends in vo/tech pgm] + [K3m pct of close friends who get drunk] + [K3n pct of close friends who use drugs] + [K12 how often damaged public property] + [K13 how often got into physical fight] + [K15 how often drove when drunk or high] + [Responsibilities: financial] + [Mental health: worry] + [Mental health: risky behaviors] + [Body weight percentile status] + [Earnings from work last year] + [L8 importance of ethnic group identity]</td>
<td align="left">[L6 hispanicity - No]</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># explicate_clusters(clusters_objective)</span></span></code></pre></div>
</div>
</div>
<div id="summary" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Summary</h1>
<p>There are numerous features, in the various buckets and are difficult to parse. This could be the start of further inquiry. Because the dataset is one-hot encoded, there is a possibility where one feature with multiple values may have different statistical significance, which adds complexity to the analysis. Perhaps this can be cross referenced with the feature selection output?</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
